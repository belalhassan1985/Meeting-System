# โ ูุธุงู ุนุถููุฉ ุงูุบุฑู - ููุชูู!

## ๐ ุชู ุฅูุฌุงุฒ ุงููุธุงู ุงูููุญุฏ ุจุงููุงูู!

### ูุง ุชู ุชูููุฐู:

#### 1. **ูุธุงู ุงููุตุงุฏูุฉ ุงูููุญุฏ** โ
- โ ุฏูุฌ ุฌุฏููู admins ู users
- โ ุญูู role (admin/user)
- โ ููุทุฉ ุฏุฎูู ูุงุญุฏุฉ `/login`
- โ ุชูุฌูู ุชููุงุฆู ุจูุงุกู ุนูู role

#### 2. **ูุธุงู ุนุถููุฉ ุงูุบุฑู** โ
- โ ุฌุฏูู `room_members`
- โ Entity ู Service ูุงููุฉ
- โ API Endpoints ูุฅุฏุงุฑุฉ ุงูุฃุนุถุงุก
- โ Dashboard ูุนุฑุถ ุงูุบุฑู ุงููุณุฌู ูููุง ููุท
- โ ุฑุณุงูุฉ "ูุง ุชูุฌุฏ ุบุฑู ูุชุงุญุฉ" ูููุณุชุฎุฏููู ุบูุฑ ุงููุณุฌููู

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `users`:
```sql
- id (UUID)
- name (VARCHAR)
- username (VARCHAR UNIQUE)
- password (VARCHAR)
- email (VARCHAR NULLABLE)
- role (ENUM: 'admin', 'user')  โ ูุธุงู ููุญุฏ
- isActive (BOOLEAN)
- createdAt (TIMESTAMP)
- updatedAt (TIMESTAMP)
```

### ุฌุฏูู `room_members`:
```sql
- id (UUID)
- roomId (UUID) โ rooms(id)
- userId (UUID) โ users(id)
- joinedAt (TIMESTAMP)
- UNIQUE(roomId, userId)
```

---

## ๐ API Endpoints

### ูุธุงู ุงููุตุงุฏูุฉ:
```
POST /users/login
Body: { username, password }
Response: { token, user: { id, username, name, email, role } }
```

### ุฅุฏุงุฑุฉ ุฃุนุถุงุก ุงูุบุฑู:
```
POST /room-members/:roomId/members
Body: { userId }
โ ุฅุถุงูุฉ ุนุถู ูุบุฑูุฉ

POST /room-members/:roomId/members/bulk
Body: { userIds: ["id1", "id2"] }
โ ุฅุถุงูุฉ ุนุฏุฉ ุฃุนุถุงุก ุฏูุนุฉ ูุงุญุฏุฉ

DELETE /room-members/:roomId/members/:userId
โ ุฅุฒุงูุฉ ุนุถู ูู ุบุฑูุฉ

GET /room-members/:roomId/members
โ ุนุฑุถ ุฃุนุถุงุก ุงูุบุฑูุฉ

GET /room-members/users/:userId/rooms
โ ุนุฑุถ ุบุฑู ุงููุณุชุฎุฏู

GET /room-members/:roomId/members/:userId/check
โ ุงูุชุญูู ูู ุนุถููุฉ ุงููุณุชุฎุฏู
```

### ุงูุบุฑู (ูุน ููุชุฑุฉ):
```
GET /rooms
โ ุฌููุน ุงูุบุฑู (ูููุณุคูููู)

GET /rooms?userId=xxx
โ ุงูุบุฑู ุงููุณุฌู ูููุง ุงููุณุชุฎุฏู ููุท
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุดุบูู ุงููุธุงู

#### Backend:
```bash
cd d:\live_app\apps\api
npm run dev
```

#### Frontend:
```bash
cd d:\live_app\apps\web
npm run dev
```

### 2. ุชุณุฌูู ุงูุฏุฎูู

ุงูุชุญ: `http://localhost:3002`

**ููุณุคูู:**
```
Username: admin
Password: admin123
```
โ ูููุฌู ุฅูู `/admin`

**ููุณุชุฎุฏู:**
```
Username: testuser
Password: 123456
```
โ ูููุฌู ุฅูู `/dashboard`

---

## ๐จโ๐ผ ูููุณุคูููู: ุฅุฏุงุฑุฉ ุฃุนุถุงุก ุงูุบุฑู

### ุฅุถุงูุฉ ูุณุชุฎุฏู ูุบุฑูุฉ:

#### ุนุจุฑ API:
```bash
curl -X POST http://localhost:3001/room-members/ROOM_ID/members \
  -H "Content-Type: application/json" \
  -d '{"userId":"USER_ID"}'
```

#### ุนุจุฑ Script:
```bash
cd apps/api
node scripts/add-user-to-room.js ROOM_ID USER_ID
```

### ุฅุถุงูุฉ ุนุฏุฉ ูุณุชุฎุฏููู:
```bash
curl -X POST http://localhost:3001/room-members/ROOM_ID/members/bulk \
  -H "Content-Type: application/json" \
  -d '{"userIds":["USER_ID_1","USER_ID_2"]}'
```

### ุนุฑุถ ุฃุนุถุงุก ุบุฑูุฉ:
```bash
curl http://localhost:3001/room-members/ROOM_ID/members
```

---

## ๐ค ูููุณุชุฎุฏููู: ุงููุตูู ููุบุฑู

### ุงูุณููุงุฑูู 1: ูุณุชุฎุฏู ูุณุฌู ูู ุบุฑู
- ูุณุฌู ุงูุฏุฎูู
- ูุฑู ูุงุฆูุฉ ุงูุบุฑู ุงููุณุฌู ูููุง
- ููููู ุงูุงูุถูุงู ูุฃู ุบุฑูุฉ

### ุงูุณููุงุฑูู 2: ูุณุชุฎุฏู ุบูุฑ ูุณุฌู ูู ุฃู ุบุฑูุฉ
- ูุณุฌู ุงูุฏุฎูู
- ูุฑู ุฑุณุงูุฉ: **"ูุง ุชูุฌุฏ ุบุฑู ูุชุงุญุฉ"**
- ููุทูุจ ููู ุงูุชูุงุตู ูุน ุงููุณุคูู

---

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ

### Backend:
```
apps/api/src/
โโโ entities/
โ   โโโ room-member.entity.ts          โ ุฌุฏูุฏ
โโโ services/
โ   โโโ room-member.service.ts         โ ุฌุฏูุฏ
โโโ controllers/
โ   โโโ room-member.controller.ts      โ ุฌุฏูุฏ
โโโ scripts/
    โโโ merge-admin-users.js           โ ุฌุฏูุฏ
    โโโ create-room-members-table.js   โ ุฌุฏูุฏ
    โโโ add-user-to-room.js            โ ูุฑูุจุงู
```

### Frontend:
```
apps/web/src/
โโโ components/
โ   โโโ room-list.tsx                  โ ูุญุฏูุซ
โโโ lib/
โ   โโโ api.ts                         โ ูุญุฏูุซ
โโโ app/
    โโโ login/page.tsx                 โ ูุญุฏูุซ
    โโโ dashboard/page.tsx             โ ูุญุฏูุซ
    โโโ admin/layout.tsx               โ ูุญุฏูุซ
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู ุงูููุญุฏ:

```bash
# ููุณุคูู
curl -X POST http://localhost:3001/users/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# ููุณุชุฎุฏู
curl -X POST http://localhost:3001/users/login \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","password":"123456"}'
```

### 2. ุงุฎุชุจุงุฑ ุนุถููุฉ ุงูุบุฑู:

```bash
# ุงูุญุตูู ุนูู ID ุบุฑูุฉ
curl http://localhost:3001/rooms

# ุฅุถุงูุฉ ูุณุชุฎุฏู testuser ูุบุฑูุฉ
curl -X POST http://localhost:3001/room-members/ROOM_ID/members \
  -H "Content-Type: application/json" \
  -d '{"userId":"USER_ID_OF_TESTUSER"}'

# ุงูุชุญูู ูู ุบุฑู ุงููุณุชุฎุฏู
curl http://localhost:3001/room-members/users/USER_ID_OF_TESTUSER/rooms
```

### 3. ุงุฎุชุจุงุฑ Dashboard:

1. ุณุฌู ุฏุฎูู ูู `testuser`
2. ุฅุฐุง ูู ุชูู ูุณุฌูุงู ูู ุฃู ุบุฑูุฉ:
   - โ ูุฌุจ ุฃู ุชุฑู: "ูุง ุชูุฌุฏ ุบุฑู ูุชุงุญุฉ"
3. ุฃุถู ุงููุณุชุฎุฏู ูุบุฑูุฉ ูู API
4. ุญุฏูุซ ุงูุตูุญุฉ
5. โ ูุฌุจ ุฃู ุชุฑู ุงูุบุฑูุฉ ุงูุขู!

---

## ๐ Scripts ุงููุณุงุนุฏุฉ

### ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู:
```bash
cd apps/api
node scripts/check-users.js
```

### ุฅุถุงูุฉ ูุณุชุฎุฏู ูุบุฑูุฉ (ูุฑูุจุงู):
```bash
node scripts/add-user-to-room.js <roomId> <userId>
```

### ุนุฑุถ ุฃุนุถุงุก ุบุฑูุฉ (ูุฑูุจุงู):
```bash
node scripts/show-room-members.js <roomId>
```

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ูููุณุคูููู:
- ุชุณุฌูู ุฏุฎูู ููุญุฏ
- ุงููุตูู ูุฌููุน ุงูุบุฑู
- ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- ุฅุถุงูุฉ/ุฅุฒุงูุฉ ุฃุนุถุงุก ุงูุบุฑู
- ุนุฑุถ ุณุฌูุงุช ุงูุฃุญุฏุงุซ

### โ ูููุณุชุฎุฏููู:
- ุชุณุฌูู ุฏุฎูู ููุญุฏ
- ุฑุคูุฉ ุงูุบุฑู ุงููุณุฌููู ูููุง ููุท
- ุฑุณุงูุฉ ูุงุถุญุฉ ุฅุฐุง ูู ูููููุง ูุณุฌููู
- ูุง ูููููู ุฑุคูุฉ ุบุฑู ุงูุขุฎุฑูู

---

## ๐ ุงูุฃูุงู

### โ ูุง ุชู ุชุฃูููู:
1. **ูุตู ูุงูู ุจูู ุงูุฃุฏูุงุฑ**
   - ุงููุณุคูููู ูุง ูููููู ุงููุตูู ูู `/dashboard`
   - ุงููุณุชุฎุฏููู ูุง ูููููู ุงููุตูู ูู `/admin`

2. **ุนุถููุฉ ุงูุบุฑู**
   - ุงููุณุชุฎุฏููู ูุฑูู ููุท ุบุฑููู
   - ูุง ูููู ุงูุงูุถูุงู ูุบุฑู ุบูุฑ ูุณุฌููู ูููุง

3. **ูููุงุช ูุฑูุฑ ูุดูุฑุฉ**
   - bcrypt ููุชุดููุฑ
   - JWT ูููุตุงุฏูุฉ

---

## ๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

### ูุง ูุนูู ุงูุขู:
- โ ูุธุงู ูุตุงุฏูุฉ ููุญุฏ
- โ ุชูุฌูู ุชููุงุฆู ุจูุงุกู ุนูู role
- โ ุนุถููุฉ ุงูุบุฑู
- โ ููุชุฑุฉ ุงูุบุฑู ุญุณุจ ุงููุณุชุฎุฏู
- โ ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏููู
- โ API ูุงููุฉ ูุฅุฏุงุฑุฉ ุงูุฃุนุถุงุก

### ุงูุฎุทูุฉ ุงูุชุงููุฉ (ุงุฎุชูุงุฑู):
- ุฅุถุงูุฉ ูุงุฌูุฉ UI ูู Admin Panel ูุฅุฏุงุฑุฉ ุฃุนุถุงุก ุงูุบุฑู
- ุฅุถุงูุฉ scripts ูุณุงุนุฏุฉ ูุฅุฏุงุฑุฉ ุงูุฃุนุถุงุก
- ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ุนูุฏ ุฅุถุงูุฉ/ุฅุฒุงูุฉ ูู ุบุฑูุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุฃูุฏ ูู ุชุดุบูู Backend ู Frontend
2. ุงูุณุญ cache ุงููุชุตูุญ
3. ุชุญูู ูู console ููุฃุฎุทุงุก
4. ุฑุงุฌุน ุงููููุงุช:
   - `UNIFIED_AUTH_SYSTEM.md` - ุดุฑุญ ุงููุธุงู ุงูููุญุฏ
   - `QUICK_START_UNIFIED.md` - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน

---

**ุชุงุฑูุฎ ุงูุฅููุงู:** 14 ูุจุฑุงูุฑ 2026
**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู
